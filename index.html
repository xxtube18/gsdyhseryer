<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Multi-Stream Dashboard</title>
    <style>
        :root { --bg: #0e0e10; --panel: #18181b; --accent: #9146ff; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); color: white; margin: 0; padding: 15px; }
        
        /* Barra de Controle */
        .header {
            background: var(--panel);
            padding: 15px;
            border-radius: 8px;
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 20px;
            border: 1px solid #333;
        }
        input {
            flex-grow: 1;
            padding: 12px;
            border-radius: 4px;
            border: 1px solid #444;
            background: #000;
            color: white;
        }
        button {
            padding: 12px 20px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
        }
        button:hover { background: #772ce8; }

        /* Grid de Vídeos */
        .stream-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 15px;
        }
        .video-container {
            position: relative;
            background: #000;
            aspect-ratio: 16 / 9;
            border: 2px solid #2f2f35;
            border-radius: 4px;
            overflow: hidden;
        }
        iframe { width: 100%; height: 100%; border: none; }
        
        .remove-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: rgba(255,0,0,0.8);
            border: none;
            color: white;
            padding: 5px 10px;
            cursor: pointer;
            z-index: 10;
            border-radius: 4px;
        }
    </style>
</head>
<body>

<div class="header">
    <strong>MULTI-STREAM</strong>
    <input type="text" id="streamUrl" placeholder="Cole o link original aqui (YouTube, Twitch ou Kik)">
    <button onclick="addStream()">+ Adicionar Tela</button>
</div>

<div class="stream-grid" id="grid"></div>

<script>
    function addStream() {
        const input = document.getElementById('streamUrl');
        const url = input.value.trim();
        if (!url) return;

        let embedUrl = "";
        const domain = window.location.hostname || "localhost";

        // LÓGICA TWITCH
        if (url.includes("twitch.tv")) {
            const channel = url.split('/').filter(Boolean).pop();
            embedUrl = `https://player.twitch.tv/?channel=${channel}&parent=${domain}`;
        } 
        // LÓGICA YOUTUBE
        else if (url.includes("youtube.com") || url.includes("youtu.be")) {
            let id = url.includes("v=") ? url.split("v=")[1].split("&")[0] : url.split("/").pop();
            embedUrl = `https://www.youtube.com/embed/${id}?autoplay=1`;
        }
        // LÓGICA KIK
        else if (url.includes("kik.com")) {
            const user = url.split('/').filter(Boolean).pop();
            embedUrl = `https://player.kik.com/${user}`;
        }

        if (embedUrl) {
            const div = document.createElement('div');
            div.className = 'video-container';
            div.innerHTML = `
                <button class="remove-btn" onclick="this.parentElement.remove()">remover</button>
                <iframe src="${embedUrl}" allowfullscreen allow="autoplay"></iframe>
            `;
            document.getElementById('grid').appendChild(div);
            input.value = "";
        } else {
            alert("Link não suportado!");
        }
    }
</script>
</body>
</html>